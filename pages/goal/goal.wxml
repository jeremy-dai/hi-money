<!--pages/goal/goal.wxml-->
<view class="container">
  <view class="header">
    <view class="title">设定财务目标</view>
    <view class="subtitle">明确目标，让储蓄更有动力</view>
  </view>

  <view class="form-section">
    <view class="input-group">
      <view class="label">
        <text class="icon">🎯</text>
        <text>目标名称</text>
      </view>
      <input
        class="input"
        type="text"
        value="{{goalName}}"
        placeholder="例如：买房首付、环球旅行"
        bindinput="onGoalNameInput"
      />
    </view>

    <view class="input-group">
      <view class="label">
        <text class="icon">💰</text>
        <text>目标金额</text>
      </view>
      <input
        class="input amount-input"
        type="digit"
        value="{{goalAmount}}"
        placeholder="输入目标总金额"
        bindinput="onGoalAmountInput"
      />
    </view>
  </view>

  <!-- 各类别目标预览 -->
  <view class="preview-section" wx:if="{{goalAmount > 0}}">
    <view class="preview-title">根据 25-15-50-10 法则，您的目标分配为：</view>

    <view class="category-card growth">
      <view class="category-header">
        <text class="category-icon">📈</text>
        <text class="category-name">增长投资</text>
        <text class="category-percentage">25%</text>
      </view>
      <view class="category-amount">¥ {{categoryGoals.growth}}</view>
    </view>

    <view class="category-card stability">
      <view class="category-header">
        <text class="category-icon">🛡️</text>
        <text class="category-name">稳定基金</text>
        <text class="category-percentage">15%</text>
      </view>
      <view class="category-amount">¥ {{categoryGoals.stability}}</view>
    </view>

    <view class="category-card essentials">
      <view class="category-header">
        <text class="category-icon">🏠</text>
        <text class="category-name">基本开支</text>
        <text class="category-percentage">50%</text>
      </view>
      <view class="category-amount">¥ {{categoryGoals.essentials}}</view>
    </view>

    <view class="category-card rewards">
      <view class="category-header">
        <text class="category-icon">🎁</text>
        <text class="category-name">奖励消费</text>
        <text class="category-percentage">10%</text>
      </view>
      <view class="category-amount">¥ {{categoryGoals.rewards}}</view>
    </view>
  </view>

  <view class="button-wrapper">
    <button class="save-button" bindtap="saveGoal">保存目标</button>
  </view>
</view>
