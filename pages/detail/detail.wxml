<!-- pages/detail/detail.wxml -->
<view class="container">
  <view class="detail-header" style="background: {{categoryData.bgColor}};">
    <view class="header-icon">{{categoryData.icon}}</view>
    <view class="header-title">{{categoryData.title}}</view>
    <view class="header-subtitle">{{categoryData.subtitle}}</view>
  </view>

  <view class="detail-content">
    <view class="intro-text">{{categoryData.intro}}</view>

    <!-- æ­¥éª¤åˆ—è¡¨ -->
    <view class="steps-container">
      <view class="step-item" wx:for="{{categoryData.steps}}" wx:key="index">
        <view class="step-number">Step {{index + 1}}</view>
        <view class="step-title">{{item.title}}</view>
        <view class="step-description">{{item.description}}</view>

        <!-- å¦‚æœæœ‰ç‰¹æ®Šå†…å®¹ -->
        <view wx:if="{{item.type === 'list'}}" class="step-content">
          <view class="two-column-list">
            <view class="column">
              <view class="column-title">éœ€æ±‚ (Needs)...</view>
              <textarea class="column-input" placeholder="åˆ—å‡ºæ‚¨çš„å¿…éœ€å“"></textarea>
            </view>
            <view class="column">
              <view class="column-title">æ¬²æœ› (Wants)...</view>
              <textarea class="column-input" placeholder="åˆ—å‡ºæ‚¨çš„æ¬²æœ›æ¸…å•"></textarea>
            </view>
          </view>
        </view>

        <view wx:if="{{item.type === 'questions'}}" class="step-content">
          <view class="question-list">
            <view class="question-item" wx:for="{{item.questions}}" wx:key="index" wx:for-item="question">
              <text class="question-icon">{{question.icon}}</text>
              <text class="question-text">{{question.text}}</text>
            </view>
          </view>
        </view>

        <view wx:if="{{item.type === 'risk-ladder'}}" class="step-content">
          <view class="risk-ladder">
            <view class="risk-level risk-high">
              <text class="risk-label">ä¸ªè‚¡ / åœ¨çº¿ä¸šåŠ¡</text>
            </view>
            <view class="risk-level risk-medium">
              <text class="risk-label">æˆ¿åœ°äº§ / ä¸ªäººæŠ€èƒ½</text>
            </view>
            <view class="risk-level risk-low">
              <text class="risk-label">æŒ‡æ•°åŸºé‡‘</text>
            </view>
            <view class="risk-indicator">â†‘ é£é™©ä¸å›æŠ¥</view>
          </view>
        </view>

        <view wx:if="{{item.type === 'flow'}}" class="step-content">
          <view class="flow-chart">
            <view class="flow-item">
              <text class="flow-icon">ğŸ¦</text>
              <text class="flow-label">é“¶è¡Œ</text>
            </view>
            <text class="flow-arrow">â†’</text>
            <view class="flow-item">
              <text class="flow-icon">ğŸ“±</text>
              <text class="flow-label">æŠ•èµ„APP</text>
            </view>
            <text class="flow-arrow">â†’</text>
            <view class="flow-item">
              <text class="flow-icon">ğŸ“Š</text>
              <text class="flow-label">æŒ‡æ•°åŸºé‡‘</text>
            </view>
          </view>
        </view>
      </view>
    </view>

    <view class="action-button btn-primary" bindtap="markAsRead">
      æˆ‘å·²äº†è§£
    </view>
  </view>
</view>
